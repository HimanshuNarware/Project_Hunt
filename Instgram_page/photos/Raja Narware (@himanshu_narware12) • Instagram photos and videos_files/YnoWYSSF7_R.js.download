;/*FB_PKG_DELIM*/

__d("PolarisFeedTimelineRootQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"5565534586881117",metadata:{},name:"PolarisFeedTimelineRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisFeedTimelineRootQuery",["PolarisFeedTimelineRootQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("PolarisFeedTimelineRootQuery.graphql");c=a;g["default"]=c}),98);
__d("PolarisFeedGlimmer.next",["PolarisPostGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.startingIndex;return h.jsx("div",{className:"xh8yej3 x1egiwwb x78zum5 x1q0g3np x1hq5gj4",children:h.jsx(c("PolarisPostGlimmer.react"),{index:a})})}i.displayName=i.name+" [from "+f.id+"]";function a(){return h.jsxs(h.Fragment,{children:[h.jsx(i,{startingIndex:0}),h.jsx(i,{startingIndex:1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedQPManager.react",["PolarisConsentActions","PolarisConsentTypes","PolarisMonitorErrors","PolarisQPCampaigns","PolarisQPConstants","PolarisQPManager.react","PolarisQueryParams","PolarisReactRedux","polarisSuggestedUserSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("PolarisReactRedux").useDispatch(),b=c("usePolarisSelector")(d("polarisSuggestedUserSelectors").shouldDisplayFacebookConnect),e=j(!1),f=e[0],g=e[1];i(function(){var b;try{b=d("PolarisQueryParams").parseQueryParams()}catch(a){d("PolarisMonitorErrors").logError(a)}b&&b.terms_start&&Object.values(d("PolarisConsentTypes").ConsentEntrypoints).includes(b.terms_start)&&(a(d("PolarisConsentActions").loadConsents(b.terms_start)),g(!0))},[a]);b=(e={},e[c("PolarisQPCampaigns").fbconnect]=b,e[c("PolarisQPCampaigns").gdprDialog]=!f,e[c("PolarisQPCampaigns").gdprFullscreen]=!f,e[c("PolarisQPCampaigns").gdprMegaphoneDis]=!f,e[c("PolarisQPCampaigns").gdprMegaphoneNondis]=!f,e);return h.jsx(c("PolarisQPManager.react"),{filter:b,slot:d("PolarisQPConstants").SLOTS.feed})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisGetPageIdentifierFromFeedVariant",["usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisFeedVariantFromRoute")();switch(a){case"favorites":return"favoritesFeedPage";case"following":return"followingFeedPage";case"past_posts":return"pastPostsFeedPage";default:return"feedPage"}}g["default"]=a}),98);
__d("usePolarisRefetchFeedQueryLoader",["CometRelay","PolarisFeedSeenState.react","PolarisFeedTimelineRootQuery.graphql","PolarisLogger","PolarisReactRedux","cr:773","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useMemo,j=e.useTransition;function a(a){var e=d("PolarisFeedSeenState.react").usePolarisFeedSeenStateManager(),f=i(function(){if(e!=null&&e.count()>0){var a=e.getViewInfo();e.clear();return babelHelpers["extends"]({},f,{feed_view_info:a})}return{}},[e]),g=j(),k=g[0],l=g[1];g=d("CometRelay").useQueryLoader(c("PolarisFeedTimelineRootQuery.graphql"),a);a=g[0];var m=g[1],n=d("PolarisReactRedux").useDispatch();g=h(function(){d("PolarisLogger").logAction("refreshFeedDataAttempt"),b("cr:773")!=null&&n(b("cr:773").loadFeedPageExtras()),l(function(){m({data:f})})},[f,n,m]);return{queryReference:a,isRefetching:k,refetchFeed:g}}g["default"]=a}),98);
__d("PolarisFeed.next",["CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisAddToHomeScreen.react","PolarisAddToHomeScreenModal.react","PolarisConsentModal.react","PolarisErrorBoundary.react","PolarisFeedActionClosePostModal","PolarisFeedActionConstants","PolarisFeedActionOpenPostModalForId","PolarisFeedActionSetShowSurvey","PolarisFeedGlimmer.next","PolarisFeedMobileTopNavigation.react","PolarisFeedPageConstants","PolarisFeedQPManager.react","PolarisFeedTimelineRootQuery","PolarisFooter.react","PolarisHttp500UnexpectedErrorPage.react","PolarisIntegrationPointId","PolarisLightweightNewPostsPill.react","PolarisLiveActions","PolarisLiveGating","PolarisMediaPrefetchActions","PolarisNavigationLayoutContext","PolarisNotificationsScreen.react","PolarisPageMetadata.react","PolarisPanavisionQEHelpers","PolarisReactRedux","PolarisShell.react","PolarisStoryTrayGlimmerPlaceholder.react","PolarisUA","deferredLoadComponent","lazyLoadComponent","polarisConsentSelectors","react","requireDeferred","requireDeferredForDisplay","stylex","useCometRouterState","useMatchMedia","usePolarisGetFeedMediaWidthBasedOnReelHeight","usePolarisGetPageIdentifierFromFeedVariant","usePolarisIsFeedMobileLayout","usePolarisRefetchFeedQueryLoader","usePolarisSelector","usePolarisStoryTrayPosition","usePrevious","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPage.next").__setRef("PolarisFeed.next")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisStoryTrayContainer.react").__setRef("PolarisFeed.next")),n=c("deferredLoadComponent")(c("requireDeferred")("PolarisFeedPagePostModal.react").__setRef("PolarisFeed.next")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSurveyManager.react").__setRef("PolarisFeed.next")),p={rootDesktop:{marginTop:"xw7yly9",$$css:!0},feedItem:{marginBottom:"x11aubdm",$$css:!0},spinnerContainer:{position:"xixxii4",top:"xwa60dl",start:"xtzzx4i",$$css:!0},storyTrayBorder:{borderBottom:"x18oi6gw",$$css:!0}};function q(a){a=a.queryReference;a=d("CometRelay").usePreloadedQuery(c("PolarisFeedTimelineRootQuery"),a);var b=d("PolarisReactRedux").useDispatch(),e=c("usePolarisSelector")(function(a){return a.mediaPrefetches.isEnabledForView.get(d("PolarisFeedActionConstants").FEED_VIEW)});k(function(){e!==!0&&b(d("PolarisMediaPrefetchActions").startMediaPrefetch(d("PolarisFeedActionConstants").FEED_VIEW))},[b,e]);return h.jsx(l,{queryReference:a})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("PolarisReactRedux").useDispatch(),e=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),f=j(c("PolarisNavigationLayoutContext"));f=f.navigationPosition;f=f==="bottom"&&!e;var g=d("usePolarisStoryTrayPosition").usePolarisStoryTrayPosition();g=g===d("usePolarisStoryTrayPosition").StoryTrayPosition.TOP;var l=c("usePolarisSelector")(function(a){return a.feed}),r=l.postModalId;l=l.postModalIndex;var s=d("PolarisPanavisionQEHelpers").hasNewFeedStyles(),t=c("usePolarisGetFeedMediaWidthBasedOnReelHeight")();t=t.mediaWidth;a=c("usePolarisRefetchFeedQueryLoader")(a.queries.polarisFeedTimelineQuery);var u=a.isRefetching,v=a.queryReference,w=a.refetchFeed,x=c("useRoutePassthroughProps")(),y=c("useCometRouterState")(),z=c("usePrevious")(y==null?void 0:y.routeKey);k(function(){(y==null?void 0:y.routeKey)!==z&&z!=null&&u!==!0&&(x==null?void 0:x.refreshFeed)===!0&&(window.scrollTo(0,0),w())},[u,x==null?void 0:x.refreshFeed,z,w,y==null?void 0:y.routeKey]);k(function(){d("PolarisUA").isDesktop()&&d("PolarisLiveGating").shouldFetchLiveInStories()&&!d("PolarisLiveGating").shouldUseBroadcastsFromStoriesTrayResponse()&&b(d("PolarisLiveActions").getBroadcasts())},[b]);a=i(function(){b(d("PolarisFeedActionClosePostModal").closePostModal())},[b]);var A=i(function(a){b(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(a))},[b]),B=c("usePolarisSelector")(d("polarisConsentSelectors").isConsentModalOpen),C=c("usePolarisSelector")(function(a){return a.feed.showSurvey}),D=d("PolarisAddToHomeScreen.react").showAddToHomeScreen(),E=c("useMatchMedia")("(min-width: "+d("PolarisFeedPageConstants").FEED_SIDEBAR_THRESHOLD_MIN+"px)");s=s?!1:E;E=c("usePolarisGetPageIdentifierFromFeedVariant")();return h.jsxs(c("PolarisShell.react"),{backgroundColor:"ig-primary-background",footerVariant:c("PolarisFooter.react").VARIANTS.centered,mobileHeader:h.jsx(c("PolarisFeedMobileTopNavigation.react"),{}),pageIdentifier:E,children:[h.jsx(c("PolarisPageMetadata.react"),{id:E}),h.jsxs("div",{className:c("stylex")(!e&&p.rootDesktop),children:[g&&h.jsx(c("IGDSBox.react"),{marginBottom:e?0:2,marginTop:f?2:0,children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("IGDSBox.react"),{paddingY:2,children:h.jsx(c("PolarisStoryTrayGlimmerPlaceholder.react"),{})}),children:h.jsx(c("PolarisErrorBoundary.react"),{children:h.jsx("div",{className:c("stylex")(e&&p.storyTrayBorder),children:h.jsx(m,{hideOwnStory:s},"storyTray")})})})}),h.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",children:h.jsx(c("IGDSBox.react"),{width:t!=null?t:d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH,children:h.jsxs(c("CometPlaceholder.react"),{fallback:h.jsx(c("PolarisFeedGlimmer.next"),{}),children:[h.jsx(c("PolarisErrorBoundary.react"),{children:h.jsx("div",{className:c("stylex")(!e&&p.feedItem),children:h.jsx(c("PolarisFeedQPManager.react"),{})})}),h.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return h.jsx(c("IGDSBox.react"),{marginTop:10,children:h.jsx(c("PolarisHttp500UnexpectedErrorPage.react"),{error:a})})},children:v!=null&&u!==!0?h.jsx(q,{queryReference:v}):h.jsx(c("PolarisFeedGlimmer.next"),{})})]})})}),r!=null&&n!=null&&h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:"xixxii4 xwa60dl xtzzx4i",children:h.jsx(c("IGDSSpinner.react"),{})}),children:h.jsx(n,{onClose:a,onOpen:A,postId:r,sidecarIndex:l})})]}),B!==!0&&(D?h.jsx(d("PolarisAddToHomeScreenModal.react").AddToHomeScreenModal,{}):h.jsx(c("PolarisNotificationsScreen.react"),{})),h.jsx(c("PolarisConsentModal.react"),{}),h.jsx(c("PolarisLightweightNewPostsPill.react"),{alwaysUseCometDispatch:!0}),C&&h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(o,{onClose:function(){return b(d("PolarisFeedActionSetShowSurvey").setShowSurvey(!1))},surveyIntegrationPointId:d("PolarisIntegrationPointId").IntegrationPointId.IG_WEB_TESSA_TEST})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedContainer.next",["CometPlaceholder.react","IGDSSpinner.react","PolarisFeed.next","PolarisFeedContext","PolarisFeedPageConstants","PolarisNavigationLayoutContext","PolarisPanavisionQEHelpers","PolarisUA","deferredLoadComponent","react","requireDeferred","stylex","useMatchMedia","usePolarisGetFeedContainerWidth","usePolarisGetFeedMediaWidthBasedOnReelHeight","usePolarisIsFeedMobileLayout","usePolarisPreloadedPostQuery"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=c("deferredLoadComponent")(c("requireDeferred")("PolarisFeedSidebar.next").__setRef("PolarisFeedContainer.next")),k={root:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},rootFamiliar:{paddingTop:"x1xy6bms",$$css:!0},rootFamiliarTablet:{paddingTop:"xyinxu5",$$css:!0},rightComponent:{height:"x1dr59a3",top:"x13vifvy",$$css:!0},spinnerContainer:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",$$css:!0},familiarFeedRightRail:{paddingStart:"x3hkoc4",width:"x6bx242",$$css:!0}};function a(a){var b=d("PolarisPanavisionQEHelpers").hasNewFeedStyles(),e=c("usePolarisPreloadedPostQuery")(a.props.routeProps.polaris_preload.suggested_user_list),f=c("usePolarisGetFeedContainerWidth")(),g=c("useMatchMedia")("(min-width: "+d("PolarisFeedPageConstants").FEED_SIDEBAR_THRESHOLD_MIN+"px)");g=g&&d("PolarisUA").isDesktop()&&!b;b=i(c("PolarisNavigationLayoutContext"));b=b.navigationPosition;var l=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();b=b==="bottom"&&!l;l=c("usePolarisGetFeedMediaWidthBasedOnReelHeight")();l=l.mediaWidth;return h.jsxs("div",{className:c("stylex")(k.root,b?k.rootFamiliarTablet:d("PolarisUA").isDesktop()&&k.rootFamiliar),children:[h.jsx(d("PolarisFeedContext").PolarisFeedContextProvider,{feedWidth:f||0,mediaWidth:l||0,children:h.jsx("div",{style:f!=null?{maxWidth:f+"px",width:"100%"}:void 0,children:h.jsx(c("PolarisFeed.next"),babelHelpers["extends"]({},a))})}),g?h.jsx("div",{className:"x1dr59a3 x13vifvy x3hkoc4 x6bx242",children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k",children:h.jsx(c("IGDSSpinner.react"),{})}),children:h.jsx(j,{suggestedUserListQueryRef:e})})}):void 0]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisInitPreloadedStoriesTray",["PolarisFeedActionLoadFeedPageExtras","PolarisReactRedux","react","usePolarisQueryPreloaderID","usePolarisQueryStore","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=d("PolarisReactRedux").useDispatch(),e=c("usePolarisSelector")(function(a){return a.stories.reels}),f=i(!1),g=c("usePolarisQueryStore")(),j=c("usePolarisQueryPreloaderID")(a);h(function(){if(!f.current&&e.size===0){var c=null;if(a!=null&&(a.preloadEnabledOnInit||a.preloadEnabledOnNav)){var h=g.loadGetQuery([a.request.url,a.request.params],void 0,j);c=function(){return g.getGetResponse(h)}}b(d("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras(c));f.current=!0}},[e,b,a,g,j])}g["default"]=a}),98);
__d("PolarisFeedRoot.next",["PolarisFeedContainer.next","PolarisNavigationHelpers","PolarisPageLayoutHandler.react","PolarisPanavisionQEHelpers","deferredLoadComponent","react","requireDeferredForDisplay","useMatchMedia","usePolarisInitPreloadedStoriesTray","usePolarisPreloadedPostQuery"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedSidebar.next").__setRef("PolarisFeedRoot.next"));function a(a){var b=a.props.routeProps.polaris_preload.story_tray;c("usePolarisInitPreloadedStoriesTray")(b);b=c("usePolarisPreloadedPostQuery")(a.props.routeProps.polaris_preload.suggested_user_list);var e=c("useMatchMedia")("(min-width: "+d("PolarisNavigationHelpers").SHOW_SIDEBAR_THRESHOLD+"px)");return h.jsx(c("PolarisPageLayoutHandler.react"),{backgroundColor:"primaryBackground",mainComponent:h.jsx(c("PolarisFeedContainer.next"),babelHelpers["extends"]({},a)),rightComponent:d("PolarisPanavisionQEHelpers").hasNewFeedStyles()&&e?h.jsx("div",{className:"xxwtrqt x1234bx xoocq3y x8a7caq",children:h.jsx(i,{suggestedUserListQueryRef:b})}):void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPanavisionFeedRoot.entrypoint",["JSResourceForInteraction","PolarisFeedTimelineRootQuery$Parameters","PolarisFeedTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("PolarisFeedTypes").PaginationSource.FOLLOWING:return{pagination_source:String(d("PolarisFeedTypes").PaginationSource.FOLLOWING)};case d("PolarisFeedTypes").PaginationSource.FAVORITES:return{pagination_source:String(d("PolarisFeedTypes").PaginationSource.FAVORITES)};default:return{}}};a={getPreloadProps:function(a){a=a.routeParams;a=d("PolarisFeedTypes").PaginationSource.cast(a.variant);a=a!=null?h(a):{};return{queries:{polarisFeedTimelineQuery:{options:{},parameters:c("PolarisFeedTimelineRootQuery$Parameters"),variables:{data:a}}}}},root:c("JSResourceForInteraction")("PolarisFeedRoot.next").__setRef("PolarisPanavisionFeedRoot.entrypoint")};g["default"]=a}),98);